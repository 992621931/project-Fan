<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æˆ˜æ–—ç³»ç»Ÿæµ‹è¯•</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      color: white;
      text-align: center;
      margin-bottom: 20px;
    }

    .battle-area {
      width: 100%;
      height: 600px;
      background: url('images/changjing_caoyuan.png') center/cover;
      border-radius: 12px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .controls {
      margin-top: 20px;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .button-group {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }

    button {
      padding: 10px 20px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
    }

    button:hover {
      background: #5568d3;
      transform: translateY(-2px);
    }

    button:active {
      transform: translateY(0);
    }

    .info {
      margin-top: 15px;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 6px;
      font-size: 14px;
      line-height: 1.6;
    }

    .info h3 {
      margin: 0 0 10px 0;
      color: #333;
    }

    .info p {
      margin: 5px 0;
      color: #666;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ® æˆ˜æ–—ç³»ç»Ÿæµ‹è¯•</h1>
    
    <div class="battle-area" id="battle-area"></div>
    
    <div class="controls">
      <h3>æ§åˆ¶é¢æ¿</h3>
      <div class="button-group">
        <button onclick="spawnCharacter()">â• ç”Ÿæˆè§’è‰²</button>
        <button onclick="clearAll()">ğŸ—‘ï¸ æ¸…é™¤æ‰€æœ‰</button>
      </div>
      
      <div class="info">
        <h3>ğŸ“‹ è¯´æ˜</h3>
        <p>âœ… è§’è‰²ä¼šåœ¨éšæœºä½ç½®ç”Ÿæˆ</p>
        <p>âœ… å¤´åƒä¸Šæ–¹æ˜¾ç¤ºè§’è‰²åç§°ï¼ˆç§°å·+åå­—ï¼‰</p>
        <p>âœ… å¤´åƒä¸‹æ–¹æ˜¾ç¤ºHPæ¡ï¼ˆçº¢è‰²ï¼‰å’ŒMPæ¡ï¼ˆè“è‰²ï¼‰</p>
        <p>âœ… è§’è‰²ä¼šæœéšæœºæ–¹å‘ç§»åŠ¨ï¼ˆé€Ÿåº¦ = 20 + ç§»åŠ¨é€Ÿåº¦å±æ€§ï¼‰</p>
        <p>âœ… è§’è‰²ç¢°åˆ°è¾¹ç•Œä¼šåå¼¹</p>
        <p>âœ… æ¯ç§’æ¢å¤ç”Ÿå‘½å€¼ï¼ˆæ ¹æ®"æ¯ç§’å›è¡€"å±æ€§ï¼‰</p>
        <p>âœ… æ¯ç§’æ¢å¤é­”æ³•å€¼ï¼ˆæ ¹æ®"æ¯ç§’å›é­”"å±æ€§ï¼‰</p>
        <p>âœ… åˆå§‹é­”æ³•å€¼ä¸º 0</p>
        <p>ğŸ’¡ é¼ æ ‡æ‚¬åœåœ¨è§’è‰²ä¸Šå¯ä»¥æ”¾å¤§æŸ¥çœ‹</p>
      </div>
    </div>
  </div>

  <script type="module">
    import { BattleSystem } from './dist/game/systems/BattleSystem.js';
    
    const battleArea = document.getElementById('battle-area');
    const battleSystem = new BattleSystem();
    battleSystem.initialize(battleArea);
    
    let characterCounter = 0;
    
    // Make functions global for button onclick
    window.spawnCharacter = function() {
      characterCounter++;
      
      // Create a test character with random attributes
      const names = ['æ', 'ç‹', 'æ—', 'åˆ˜', 'è‚¯å°¼', 'å¡æ‹‰'];
      const titles = ['å‹‡æ•¢çš„', 'èƒ†å°çš„', 'å†·é…·çš„', 'è°¨æ…çš„'];
      const randomName = names[Math.floor(Math.random() * names.length)];
      const randomTitle = titles[Math.floor(Math.random() * titles.length)];
      
      const character = {
        id: `test_char_${characterCounter}`,
        name: randomName,
        title: randomTitle,
        emoji: `images/touxiang_maoxianzhe_${String(Math.floor(Math.random() * 48) + 1).padStart(3, '0')}.png`,
        type: 'Adventurer',
        level: 1,
        currentHP: 100,
        maxHP: 100,
        currentMP: 0, // Start with 0 MP
        maxMP: 100,
        moveSpeed: Math.floor(Math.random() * 100), // Random 0-100
        hpRegen: Math.floor(Math.random() * 5) + 1, // Random 1-5
        mpRegen: Math.floor(Math.random() * 15) + 5, // Random 5-20
      };
      
      battleSystem.spawnCharacter(character);
      console.log(`Spawned: ${character.title}${character.name} (Speed: ${20 + character.moveSpeed}, HP Regen: ${character.hpRegen}/s, MP Regen: ${character.mpRegen}/s)`);
    };
    
    window.clearAll = function() {
      battleSystem.clearAll();
      console.log('Cleared all characters');
    };
    
    // Spawn 3 characters on load
    setTimeout(() => {
      for (let i = 0; i < 3; i++) {
        window.spawnCharacter();
      }
    }, 500);
  </script>
</body>
</html>
